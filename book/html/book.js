"use strict";function playground_text(playground){let code_block=playground.querySelector("code");if(window.ace&&code_block.classList.contains("editable")){let editor;return window.ace.edit(code_block).getValue()}return code_block.textContent}window.onunload=function(){},function codeSnippets(){function fetch_with_timeout(url,options,timeout=6e3){return Promise.race([fetch(url,options),new Promise((_,reject)=>setTimeout(()=>reject(new Error("timeout")),timeout))])}var playgrounds=Array.from(document.querySelectorAll(".playground"));function handle_crate_list_update(playground_block,playground_crates){if(update_play_button(playground_block,playground_crates),window.ace){let code_block=playground_block.querySelector("code");if(code_block.classList.contains("editable")){let editor=window.ace.edit(code_block);editor.addEventListener("change",(function(e){update_play_button(playground_block,playground_crates)})),editor.commands.addCommand({name:"run",bindKey:{win:"Ctrl-Enter",mac:"Ctrl-Enter"},exec:_editor=>run_rust_code(playground_block)})}}}function update_play_button(pre_block,playground_crates){var play_button=pre_block.querySelector(".play-button");if(pre_block.querySelector("code").classList.contains("no_run"))play_button.classList.add("hidden");else{for(var txt=playground_text(pre_block),re=/extern\s+crate\s+([a-zA-Z_0-9]+)\s*;/g,snippet_crates=[],item;item=re.exec(txt);)snippet_crates.push(item[1]);var all_available;snippet_crates.every((function(elem){return playground_crates.indexOf(elem)>-1}))?play_button.classList.remove("hidden"):play_button.classList.add("hidden")}}function run_rust_code(code_block){var result_block=code_block.querySelector(".result");result_block||((result_block=document.createElement("code")).className="result hljs language-bash",code_block.append(result_block));let text=playground_text(code_block),classes,has_2018,edition;var params={version:"stable",optimize:"0",code:text,edition:code_block.querySelector("code").classList.contains("edition2018")?"2018":"2015"};-1!==text.indexOf("#![feature")&&(params.version="nightly"),result_block.innerText="Running...",fetch_with_timeout("https://play.rust-lang.org/evaluate.json",{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(params)}).then(response=>response.json()).then(response=>result_block.innerText=response.result).catch(error=>result_block.innerText="Playground Communication: "+error.message)}playgrounds.length>0&&fetch_with_timeout("https://play.rust-lang.org/meta/crates",{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors"}).then(response=>response.json()).then(response=>{let playground_crates=response.crates.map(item=>item.id);playgrounds.forEach(block=>handle_crate_list_update(block,playground_crates))}),hljs.configure({tabReplace:"    ",languages:[]});let code_nodes=Array.from(document.querySelectorAll("code")).filter((function(node){return!node.parentElement.classList.contains("header")}));window.ace?(Array.from(document.querySelectorAll("code.editable")).forEach((function(block){block.classList.remove("language-rust")})),Array.from(document.querySelectorAll("code:not(.editable)")).forEach((function(block){hljs.highlightBlock(block)}))):code_nodes.forEach((function(block){hljs.highlightBlock(block)})),code_nodes.forEach((function(block){block.classList.add("hljs")})),Array.from(document.querySelectorAll("code.language-rust")).forEach((function(block){var lines;if(Array.from(block.querySelectorAll(".boring")).length){block.classList.add("hide-boring");var buttons=document.createElement("div");buttons.className="buttons",buttons.innerHTML='<button class="fa fa-eye" title="Show hidden lines" aria-label="Show hidden lines"></button>';var pre_block=block.parentNode;pre_block.insertBefore(buttons,pre_block.firstChild),pre_block.querySelector(".buttons").addEventListener("click",(function(e){e.target.classList.contains("fa-eye")?(e.target.classList.remove("fa-eye"),e.target.classList.add("fa-eye-slash"),e.target.title="Hide lines",e.target.setAttribute("aria-label",e.target.title),block.classList.remove("hide-boring")):e.target.classList.contains("fa-eye-slash")&&(e.target.classList.remove("fa-eye-slash"),e.target.classList.add("fa-eye"),e.target.title="Show hidden lines",e.target.setAttribute("aria-label",e.target.title),block.classList.add("hide-boring"))}))}})),window.playground_copyable&&Array.from(document.querySelectorAll("pre code")).forEach((function(block){var pre_block=block.parentNode;if(!pre_block.classList.contains("playground")){var buttons=pre_block.querySelector(".buttons");buttons||((buttons=document.createElement("div")).className="buttons",pre_block.insertBefore(buttons,pre_block.firstChild));var clipButton=document.createElement("button");clipButton.className="fa fa-copy clip-button",clipButton.title="Copy to clipboard",clipButton.setAttribute("aria-label",clipButton.title),clipButton.innerHTML='<i class="tooltiptext"></i>',buttons.insertBefore(clipButton,buttons.firstChild)}})),Array.from(document.querySelectorAll(".playground")).forEach((function(pre_block){var buttons=pre_block.querySelector(".buttons");buttons||((buttons=document.createElement("div")).className="buttons",pre_block.insertBefore(buttons,pre_block.firstChild));var runCodeButton=document.createElement("button");if(runCodeButton.className="fa fa-play play-button",runCodeButton.hidden=!0,runCodeButton.title="Run this code",runCodeButton.setAttribute("aria-label",runCodeButton.title),buttons.insertBefore(runCodeButton,buttons.firstChild),runCodeButton.addEventListener("click",(function(e){run_rust_code(pre_block)})),window.playground_copyable){var copyCodeClipboardButton=document.createElement("button");copyCodeClipboardButton.className="fa fa-copy clip-button",copyCodeClipboardButton.innerHTML='<i class="tooltiptext"></i>',copyCodeClipboardButton.title="Copy to clipboard",copyCodeClipboardButton.setAttribute("aria-label",copyCodeClipboardButton.title),buttons.insertBefore(copyCodeClipboardButton,buttons.firstChild)}let code_block=pre_block.querySelector("code");if(window.ace&&code_block.classList.contains("editable")){var undoChangesButton=document.createElement("button");undoChangesButton.className="fa fa-history reset-button",undoChangesButton.title="Undo changes",undoChangesButton.setAttribute("aria-label",undoChangesButton.title),buttons.insertBefore(undoChangesButton,buttons.firstChild),undoChangesButton.addEventListener("click",(function(){let editor=window.ace.edit(code_block);editor.setValue(editor.originalCode),editor.clearSelection()}))}}))}(),function themes(){var html=document.querySelector("html"),themeToggleButton=document.getElementById("theme-toggle"),themePopup=document.getElementById("theme-list"),themeColorMetaTag=document.querySelector('meta[name="theme-color"]'),stylesheets={ayuHighlight:document.querySelector("[href$='ayu-highlight.css']"),tomorrowNight:document.querySelector("[href$='tomorrow-night.css']"),highlight:document.querySelector("[href$='highlight.css']")},theme;function showThemes(){themePopup.style.display="block",themeToggleButton.setAttribute("aria-expanded",!0),themePopup.querySelector("button#"+get_theme()).focus()}function hideThemes(){themePopup.style.display="none",themeToggleButton.setAttribute("aria-expanded",!1),themeToggleButton.focus()}function get_theme(){var theme;try{theme=localStorage.getItem("mdbook-theme")}catch(e){}return null==theme?default_theme:theme}function set_theme(theme,store=!0){let ace_theme;"coal"==theme||"navy"==theme?(stylesheets.ayuHighlight.disabled=!0,stylesheets.tomorrowNight.disabled=!1,stylesheets.highlight.disabled=!0,ace_theme="ace/theme/tomorrow_night"):"ayu"==theme?(stylesheets.ayuHighlight.disabled=!1,stylesheets.tomorrowNight.disabled=!0,stylesheets.highlight.disabled=!0,ace_theme="ace/theme/tomorrow_night"):(stylesheets.ayuHighlight.disabled=!0,stylesheets.tomorrowNight.disabled=!0,stylesheets.highlight.disabled=!1,ace_theme="ace/theme/dawn"),setTimeout((function(){themeColorMetaTag.content=getComputedStyle(document.body).backgroundColor}),1),window.ace&&window.editors&&window.editors.forEach((function(editor){editor.setTheme(ace_theme)}));var previousTheme=get_theme();if(store)try{localStorage.setItem("mdbook-theme",theme)}catch(e){}html.classList.remove(previousTheme),html.classList.add(theme)}set_theme(get_theme(),!1),themeToggleButton.addEventListener("click",(function(){"block"===themePopup.style.display?hideThemes():showThemes()})),themePopup.addEventListener("click",(function(e){var theme;set_theme(e.target.id||e.target.parentElement.id)})),themePopup.addEventListener("focusout",(function(e){!e.relatedTarget||themeToggleButton.contains(e.relatedTarget)||themePopup.contains(e.relatedTarget)||hideThemes()})),document.addEventListener("click",(function(e){"block"!==themePopup.style.display||themeToggleButton.contains(e.target)||themePopup.contains(e.target)||hideThemes()})),document.addEventListener("keydown",(function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&themePopup.contains(e.target))switch(e.key){case"Escape":e.preventDefault(),hideThemes();break;case"ArrowUp":var li;e.preventDefault(),(li=document.activeElement.parentElement)&&li.previousElementSibling&&li.previousElementSibling.querySelector("button").focus();break;case"ArrowDown":var li;e.preventDefault(),(li=document.activeElement.parentElement)&&li.nextElementSibling&&li.nextElementSibling.querySelector("button").focus();break;case"Home":e.preventDefault(),themePopup.querySelector("li:first-child button").focus();break;case"End":e.preventDefault(),themePopup.querySelector("li:last-child button").focus()}}))}(),function sidebar(){var html=document.querySelector("html"),sidebar=document.getElementById("sidebar"),sidebarLinks=document.querySelectorAll("#sidebar a"),sidebarToggleButton=document.getElementById("sidebar-toggle"),sidebarResizeHandle=document.getElementById("sidebar-resize-handle"),firstContact=null;function showSidebar(){html.classList.remove("sidebar-hidden"),html.classList.add("sidebar-visible"),Array.from(sidebarLinks).forEach((function(link){link.setAttribute("tabIndex",0)})),sidebarToggleButton.setAttribute("aria-expanded",!0),sidebar.setAttribute("aria-hidden",!1);try{localStorage.setItem("mdbook-sidebar","visible")}catch(e){}}var sidebarAnchorToggles=document.querySelectorAll("#sidebar a.toggle");function toggleSection(ev){ev.currentTarget.parentElement.classList.toggle("expanded")}function hideSidebar(){html.classList.remove("sidebar-visible"),html.classList.add("sidebar-hidden"),Array.from(sidebarLinks).forEach((function(link){link.setAttribute("tabIndex",-1)})),sidebarToggleButton.setAttribute("aria-expanded",!1),sidebar.setAttribute("aria-hidden",!0);try{localStorage.setItem("mdbook-sidebar","hidden")}catch(e){}}function initResize(e){window.addEventListener("mousemove",resize,!1),window.addEventListener("mouseup",stopResize,!1),html.classList.add("sidebar-resizing")}function resize(e){var pos=e.clientX-sidebar.offsetLeft;pos<20?hideSidebar():(html.classList.contains("sidebar-hidden")&&showSidebar(),pos=Math.min(pos,window.innerWidth-100),document.documentElement.style.setProperty("--sidebar-width",pos+"px"))}function stopResize(e){html.classList.remove("sidebar-resizing"),window.removeEventListener("mousemove",resize,!1),window.removeEventListener("mouseup",stopResize,!1)}Array.from(sidebarAnchorToggles).forEach((function(el){el.addEventListener("click",toggleSection)})),sidebarToggleButton.addEventListener("click",(function sidebarToggle(){var current_width;html.classList.contains("sidebar-hidden")?(parseInt(document.documentElement.style.getPropertyValue("--sidebar-width"),10)<150&&document.documentElement.style.setProperty("--sidebar-width","150px"),showSidebar()):html.classList.contains("sidebar-visible")?hideSidebar():"none"===getComputedStyle(sidebar).transform?hideSidebar():showSidebar()})),sidebarResizeHandle.addEventListener("mousedown",initResize,!1),document.addEventListener("touchstart",(function(e){firstContact={x:e.touches[0].clientX,time:Date.now()}}),{passive:!0}),document.addEventListener("touchmove",(function(e){if(firstContact){var curX=e.touches[0].clientX,xDiff=curX-firstContact.x,tDiff;Date.now()-firstContact.time<250&&Math.abs(xDiff)>=150&&(xDiff>=0&&firstContact.x<Math.min(.25*document.body.clientWidth,300)?showSidebar():xDiff<0&&curX<300&&hideSidebar(),firstContact=null)}}),{passive:!0});var activeSection=document.getElementById("sidebar").querySelector(".active");activeSection&&activeSection.querySelector("strong").scrollIntoView({block:"center",inline:"center"})}(),function chapterNavigation(){document.addEventListener("keydown",(function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||window.search&&window.search.hasFocus()))switch(e.key){case"ArrowRight":e.preventDefault();var nextButton=document.querySelector(".nav-chapters.next");nextButton&&(window.location.href=nextButton.href);break;case"ArrowLeft":e.preventDefault();var previousButton=document.querySelector(".nav-chapters.previous");previousButton&&(window.location.href=previousButton.href)}}))}(),function clipboard(){var clipButtons=document.querySelectorAll(".clip-button");function hideTooltip(elem){elem.firstChild.innerText="",elem.className="fa fa-copy clip-button"}function showTooltip(elem,msg){elem.firstChild.innerText=msg,elem.className="fa fa-copy tooltipped"}var clipboardSnippets=new ClipboardJS(".clip-button",{text:function(trigger){let playground;return hideTooltip(trigger),playground_text(trigger.closest("pre"))}});Array.from(clipButtons).forEach((function(clipButton){clipButton.addEventListener("mouseout",(function(e){hideTooltip(e.currentTarget)}))})),clipboardSnippets.on("success",(function(e){e.clearSelection(),showTooltip(e.trigger,"Copied!")})),clipboardSnippets.on("error",(function(e){showTooltip(e.trigger,"Clipboard error!")}))}(),function scrollToTop(){var menuTitle;document.querySelector(".menu-title").addEventListener("click",(function(){document.scrollingElement.scrollTo({top:0,behavior:"smooth"})}))}(),function controllMenu(){var menu=document.getElementById("menu-bar");!function controllPosition(){var scrollTop=document.scrollingElement.scrollTop,prevScrollTop=scrollTop,minMenuY=-menu.clientHeight-50;menu.style.top=scrollTop+"px";var topCache=menu.style.top.slice(0,-2);menu.classList.remove("sticky");var stickyCache=!1;document.addEventListener("scroll",(function(){scrollTop=Math.max(document.scrollingElement.scrollTop,0);var nextSticky=null,nextTop=null,scrollDown,menuPosAbsoluteY=topCache-scrollTop;scrollTop>prevScrollTop?(nextSticky=!1,menuPosAbsoluteY>0&&(nextTop=prevScrollTop)):menuPosAbsoluteY>0?nextSticky=!0:menuPosAbsoluteY<minMenuY&&(nextTop=prevScrollTop+minMenuY),!0===nextSticky&&!1===stickyCache?(menu.classList.add("sticky"),stickyCache=!0):!1===nextSticky&&!0===stickyCache&&(menu.classList.remove("sticky"),stickyCache=!1),null!==nextTop&&(menu.style.top=nextTop+"px",topCache=nextTop),prevScrollTop=scrollTop}),{passive:!0})}(),function controllBorder(){menu.classList.remove("bordered"),document.addEventListener("scroll",(function(){0===menu.offsetTop?menu.classList.remove("bordered"):menu.classList.add("bordered")}),{passive:!0})}()}();